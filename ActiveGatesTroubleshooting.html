<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ActiveGate Troubleshooting Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        .progress-section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #ecf0f1;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            width: 0%;
            transition: width 0.3s ease;
        }

        .troubleshooting-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .section-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px 30px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .section-header:hover {
            background: linear-gradient(135deg, #2980b9, #3498db);
        }

        .section-header h2 {
            font-size: 1.4em;
            margin: 0;
        }

        .section-indicator {
            font-size: 1.2em;
            font-weight: bold;
        }

        .troubleshooting-section .section-content {
            padding: 30px;
            display: none !important;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .troubleshooting-section .section-content.active {
            display: block !important;
            opacity: 1;
            max-height: none;
            overflow: visible;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .step:hover {
            background: #e3f2fd;
            border-left-color: #2196f3;
            transform: translateX(5px);
        }

        .step h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .ui-path {
            background: #e8f4f8;
            border: 1px solid #3498db;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            font-weight: bold;
        }

        .checklist {
            list-style: none;
            margin: 15px 0;
        }

        .checklist li {
            margin: 10px 0;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .checklist li:hover {
            background: rgba(52, 152, 219, 0.1);
            padding: 5px;
            border-radius: 5px;
        }

        .checklist input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .checklist input[type="checkbox"]:checked + label {
            text-decoration: line-through;
            opacity: 0.7;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .alert-info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }

        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        .alert-danger {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }

        .alert-success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .decision-box {
            background: #fff;
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .decision-box h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .decision-option {
            background: linear-gradient(135deg, #ecf0f1, #bdc3c7);
            border: 1px solid #95a5a6;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .decision-option:hover {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            transform: translateX(10px);
        }

        .escalation-box {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .escalation-box h4 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .stats-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }

        .stat-label {
            color: #7f8c8d;
            margin-top: 5px;
        }

        .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
            font-size: 1em;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .section-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
        }

        .quick-nav {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            font-size: 0.9em;
            z-index: 1000;
        }

        .quick-nav h4 {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .nav-item {
            padding: 5px 10px;
            margin: 3px 0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-item:hover {
            background: #3498db;
            color: white;
        }

        .issue-type-card {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #3498db;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .issue-type-card:hover {
            transform: translateX(10px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .issue-type-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-connected { background: #27ae60; }
        .status-disconnected { background: #e74c3c; }
        .status-unknown { background: #95a5a6; }
        .status-warning { background: #f39c12; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔧 ActiveGate Troubleshooting Guide</h1>
            <p><strong>Interactive UI-Based Diagnostic Guide for Support Personnel</strong></p>
            <p>Comprehensive step-by-step troubleshooting without server access</p>
        </div>

        <div class="progress-section">
            <h3>Investigation Progress</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p id="progressText">Begin your investigation by starting with Initial Assessment</p>
        </div>

        <div class="stats-display">
            <div class="stat-card">
                <div class="stat-value" id="completedSteps">0</div>
                <div class="stat-label">Completed Steps</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalSteps">65</div>
                <div class="stat-label">Total Checkpoints</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="currentSection">—</div>
                <div class="stat-label">Current Section</div>
            </div>
        </div>

        <!-- Section 1: Initial Assessment -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(1)">
                <h2>Phase 1: Initial Assessment & Status Check</h2>
                <span class="section-indicator">⏱️ 5-10 min</span>
            </div>
            <div class="section-content" id="section1">
                <div class="step">
                    <h3>Step 1: Navigate to ActiveGates Overview</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → Active Gates</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Detailed Procedure:</strong><br>
                        1. <strong>Log into the Dynatrace web UI</strong> for the affected environment<br>
                        2. <strong>From the left-hand menu</strong>, go to **Deployment Status** and select **ActiveGates**<br>
                        3. <strong>This will display a list</strong> of all ActiveGates connected to the environment, along with their status and details<br>
                        4. <strong>Review the Status/Update status column</strong> for each ActiveGate<br>
                        5. <strong>Look for error messages</strong> displayed next to ActiveGate entries<br>
                        6. <strong>Note:** If an ActiveGate is not listed at all, it means it has never connected to the environment - verify installation with correct environment ID and ActiveGate token
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step1.1" onchange="updateProgress()"><label for="step1.1">Located the ActiveGates section in deployment status</label></li>
                        <li><input type="checkbox" id="step1.2" onchange="updateProgress()"><label for="step1.2">Identified the problematic ActiveGate by name/hostname</label></li>
                        <li><input type="checkbox" id="step1.3" onchange="updateProgress()"><label for="step1.3">Noted current status indicator and color (Connected/Up to date vs Unknown/Warning)</label></li>
                        <li><input type="checkbox" id="step1.4" onchange="updateProgress()"><label for="step1.4">Recorded any error messages (e.g., "Problem with ActiveGate token (reason: Absent)")</label></li>
                        <li><input type="checkbox" id="step1.5" onchange="updateProgress()"><label for="step1.5">Checked "Last connected" timestamp if available (hover over status)</label></li>
                    </div>

                    <div class="alert alert-info">
                        <strong>🔍 Status Indicators Guide:</strong><br>
                        <span class="status-indicator status-connected"></span><strong>Connected:</strong> ActiveGate is operational and communicating<br>
                        <span class="status-indicator status-disconnected"></span><strong>Disconnected:</strong> ActiveGate cannot reach Dynatrace cluster<br>
                        <span class="status-indicator status-unknown"></span><strong>Unknown:</strong> Status unclear, possible network or timeout issue<br>
                        <span class="status-indicator status-warning"></span><strong>Warning:</strong> Connected but with issues (update problems, module failures)
                    </div>
                </div>

                <div class="step">
                    <h3>Step 2: Examine ActiveGate Details & Configuration</h3>
                    <p>Click on the specific ActiveGate name to expand detailed information:</p>
                    
                    <div class="alert alert-info">
                        <strong>📋 Detailed Procedure:</strong><br>
                        1. <strong>Click on the ActiveGate name/hostname</strong> (appears as a clickable link) or expand using the caret/+ icon<br>
                        2. <strong>Wait for detail pane to expand</strong> or new page to load with additional properties and metrics<br>
                        3. <strong>Locate "Version" section</strong> - note build number and version string<br>
                        4. <strong>Find "Network zone" assignment</strong> - usually displayed prominently<br>
                        5. <strong>Check "Capabilities" or "Modules" section</strong> - look for enabled services<br>
                        6. <strong>Review "Number of currently connected hosts"</strong> - this shows how many OneAgents are using this ActiveGate<br>
                        7. <strong>Verify ActiveGate Type and Role</strong> - Environment ActiveGate vs. Cluster ActiveGate<br>
                        8. <strong>Check for special roles:</strong> Synthetic-enabled, Extensions, specific integrations<br>
                        9. <strong>Look for "Auto-update" status</strong> - enabled/disabled with last update time<br>
                        10. <strong>Note any red indicators or warning icons</strong> throughout the interface
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step2.1" onchange="updateProgress()"><label for="step2.1">Expanded ActiveGate details to view comprehensive information</label></li>
                        <li><input type="checkbox" id="step2.2" onchange="updateProgress()"><label for="step2.2">Verified ActiveGate type (Environment vs. Cluster) and special roles</label></li>
                        <li><input type="checkbox" id="step2.3" onchange="updateProgress()"><label for="step2.3">Checked ActiveGate version and update status (Up to date vs. Update available)</label></li>
                        <li><input type="checkbox" id="step2.4" onchange="updateProgress()"><label for="step2.4">Reviewed enabled capabilities (routing, extensions, synthetic)</label></li>
                        <li><input type="checkbox" id="step2.5" onchange="updateProgress()"><label for="step2.5">Noted network zone assignment and validated configuration</label></li>
                        <li><input type="checkbox" id="step2.6" onchange="updateProgress()"><label for="step2.6">Examined "Number of currently connected hosts" (0 indicates potential routing issues)</label></li>
                        <li><input type="checkbox" id="step2.7" onchange="updateProgress()"><label for="step2.7">Documented any visible error messages, warnings, or configuration issues</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>⚠️ Version Status Indicators:</strong><br>
                        • <strong>Up to date:</strong> ActiveGate is on current version<br>
                        • <strong>Update available:</strong> New version is available<br>
                        • <strong>Yellow warning triangle:</strong> ActiveGate is more than 5 versions behind and should be updated ASAP<br>
                        • <strong>Note:</strong> Outdated ActiveGates can cause compatibility and performance issues
                    </div>
                </div>

                <div class="step">
                    <h3>Step 2A: Analyze OneAgent Connectivity</h3>
                    <div class="ui-path">Click on "Number of currently connected hosts" if > 0</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 OneAgent Connectivity Analysis:</strong><br>
                        1. <strong>Evaluate the connected hosts number:</strong> If 0, no OneAgents are using this ActiveGate (potential issue)<br>
                        2. <strong>If > 0, click on the number</strong> - it's an interactive link that shows connected host details<br>
                        3. <strong>Review the pop-up/pane</strong> displaying list of host names/IDs currently routing through this ActiveGate<br>
                        4. <strong>Verify expected hosts are present:</strong> Check if hosts you expect to use this ActiveGate are in the list<br>
                        5. <strong>Note any missing hosts:</strong> If certain hosts should be using this ActiveGate but aren't listed, it indicates routing issues<br>
                        6. <strong>Cross-reference with network zones:</strong> Ensure listed hosts belong to the same network zone as the ActiveGate
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step2a.1" onchange="updateProgress()"><label for="step2a.1">Evaluated number of currently connected hosts (0 = no OneAgent traffic)</label></li>
                        <li><input type="checkbox" id="step2a.2" onchange="updateProgress()"><label for="step2a.2">If > 0, clicked to view detailed list of connected hosts</label></li>
                        <li><input type="checkbox" id="step2a.3" onchange="updateProgress()"><label for="step2a.3">Verified that expected hosts are present in the connected list</label></li>
                        <li><input type="checkbox" id="step2a.4" onchange="updateProgress()"><label for="step2a.4">Identified any missing hosts that should be using this ActiveGate</label></li>
                        <li><input type="checkbox" id="step2a.5" onchange="updateProgress()"><label for="step2a.5">Cross-referenced connected hosts with network zone assignments</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 2B: Verify Network Zone Configuration</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → Network zones</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Network Zone Validation:</strong><br>
                        1. <strong>Navigate to Network zones</strong> from Deployment Status menu<br>
                        2. <strong>Review defined zones</strong> and count of ActiveGates/OneAgents in each zone<br>
                        3. <strong>Verify ActiveGate zone assignment:</strong> Check that the ActiveGate is in the intended zone<br>
                        4. <strong>Confirm OneAgent assignments:</strong> Ensure expected OneAgents are in the same zone<br>
                        5. <strong>Identify mismatches:</strong> OneAgents in zone "A" but ActiveGate in zone "B" explains routing failures<br>
                        6. <strong>Note:</strong> Each ActiveGate can belong to only one network zone
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step2b.1" onchange="updateProgress()"><label for="step2b.1">Reviewed network zone configuration and assignments</label></li>
                        <li><input type="checkbox" id="step2b.2" onchange="updateProgress()"><label for="step2b.2">Verified ActiveGate is assigned to correct network zone</label></li>
                        <li><input type="checkbox" id="step2b.3" onchange="updateProgress()"><label for="step2b.3">Confirmed OneAgents are in matching network zone</label></li>
                        <li><input type="checkbox" id="step2b.4" onchange="updateProgress()"><label for="step2b.4">Documented any network zone mismatches requiring correction</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 2C: Check Integration Status (if applicable)</h3>
                    <div class="ui-path">Dynatrace UI → Settings → Cloud and virtualization → [Integration]</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Integration Health Check:</strong><br>
                        1. <strong>Identify ActiveGate integrations:</strong> AWS, Azure, VMware, Extensions requiring ActiveGate<br>
                        2. <strong>Navigate to integration pages:</strong> Settings → Cloud and virtualization → AWS/Azure/etc.<br>
                        3. <strong>Check integration status:</strong> Look for "connection lost" or "unable to fetch data" errors<br>
                        4. <strong>Verify ActiveGate assignment:</strong> Integration should list the ActiveGate by name<br>
                        5. <strong>Review data freshness:</strong> Check "Last data pull" timestamps for gaps<br>
                        6. <strong>Note correlation:</strong> Integration errors often correlate with ActiveGate connectivity issues
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step2c.1" onchange="updateProgress()"><label for="step2c.1">Identified integrations using this ActiveGate (AWS, Azure, VMware, Extensions)</label></li>
                        <li><input type="checkbox" id="step2c.2" onchange="updateProgress()"><label for="step2c.2">Checked integration status pages for connectivity errors</label></li>
                        <li><input type="checkbox" id="step2c.3" onchange="updateProgress()"><label for="step2c.3">Verified ActiveGate is correctly assigned and marked as connected</label></li>
                        <li><input type="checkbox" id="step2c.4" onchange="updateProgress()"><label for="step2c.4">Reviewed data freshness and identified any gaps correlating with ActiveGate issues</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 3: Check ActiveGate Authentication Token Status</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → ActiveGates → Check ActiveGate token statuses</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Token Status Validation:</strong><br>
                        1. <strong>Look for token status indicators</strong> in the ActiveGates list or deployment status page<br>
                        2. <strong>Click "Check ActiveGate token statuses"</strong> if available (appears when token problems detected)<br>
                        3. <strong>Review authentication status</strong> for each ActiveGate's token<br>
                        4. <strong>Filter by token status</strong> to show ActiveGates with Invalid, Absent, or Expiring tokens<br>
                        5. <strong>Document any token issues</strong> found for the problematic ActiveGate<br>
                        6. <strong>Check for error messages</strong> like "Problem with ActiveGate token (reason: Absent)"
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step3.1" onchange="updateProgress()"><label for="step3.1">Checked for ActiveGate token status indicators in UI</label></li>
                        <li><input type="checkbox" id="step3.2" onchange="updateProgress()"><label for="step3.2">Used "Check ActiveGate token statuses" feature if available</label></li>
                        <li><input type="checkbox" id="step3.3" onchange="updateProgress()"><label for="step3.3">Reviewed token status: Valid, Invalid, Absent, Expiring, or Unsupported</label></li>
                        <li><input type="checkbox" id="step3.4" onchange="updateProgress()"><label for="step3.4">Documented any token authentication issues requiring resolution</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>🔑 Token Status Meanings:</strong><br>
                        • <strong>Valid:</strong> Token working correctly - no action needed<br>
                        • <strong>Absent:</strong> Using old tenant token method - needs ActiveGate token<br>
                        • <strong>Invalid:</strong> Token configured but not accepted - wrong format or revoked<br>
                        • <strong>Expiring:</strong> Token will expire soon - needs renewal<br>
                        • <strong>Unsupported:</strong> ActiveGate version too old for token auth (< 1.223)<br>
                        • <strong>Unknown:</strong> Token status cannot be determined
                    </div>
                </div>

                <div class="step">
                    <h3>Step 3A: Review ActiveGate Monitoring Alerts</h3>
                    <div class="ui-path">Dynatrace UI → Problems</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Alert Analysis Procedure:</strong><br>
                        1. <strong>Navigate to Problems</strong> section in Dynatrace UI<br>
                        2. <strong>Filter for ActiveGate-related problems</strong> or search for specific metric names<br>
                        3. <strong>Review alert timeline</strong> to understand when issues started<br>
                        4. <strong>Examine alert details</strong> for root cause indicators<br>
                        5. <strong>Correlate alerts with symptoms</strong> observed in previous steps<br>
                        6. <strong>Note alert severity and impact</strong> on ActiveGate functionality
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step3a.1" onchange="updateProgress()"><label for="step3a.1">Checked for open problems related to ActiveGate metrics</label></li>
                        <li><input type="checkbox" id="step3a.2" onchange="updateProgress()"><label for="step3a.2">Reviewed dt_active_gate_dropped_messages_count alerts (communication failures)</label></li>
                        <li><input type="checkbox" id="step3a.3" onchange="updateProgress()"><label for="step3a.3">Analyzed dt_active_gate_incoming_traffic_out_of_bounds alerts (excessive traffic)</label></li>
                        <li><input type="checkbox" id="step3a.4" onchange="updateProgress()"><label for="step3a.4">Examined dt_active_gate_outgoing_traffic_out_of_bounds alerts (outbound issues)</label></li>
                        <li><input type="checkbox" id="step3a.5" onchange="updateProgress()"><label for="step3a.5">Verified dt_active_gate_extensions_engine_status_ok alerts (service health)</label></li>
                        <li><input type="checkbox" id="step3a.6" onchange="updateProgress()"><label for="step3a.6">Noted alert timeline and correlation with ActiveGate connectivity issues</label></li>
                    </div>

                    <div class="alert alert-info">
                        <strong>🚨 ActiveGate Monitoring Alerts Guide:</strong><br>
                        • <strong>dt_active_gate_dropped_messages_count:</strong> Static threshold (>0) - Communication failures between ActiveGate and cluster<br>
                        • <strong>dt_active_gate_incoming_traffic_out_of_bounds:</strong> Auto-adaptive - Excessive incoming traffic from OneAgents<br>
                        • <strong>dt_active_gate_outgoing_traffic_out_of_bounds:</strong> Auto-adaptive - Outbound traffic issues to Dynatrace cluster<br>
                        • <strong>dt_active_gate_extensions_engine_status_ok:</strong> Static threshold (<1) - Extension engine health problems<br>
                        • <strong>Alert Presence:</strong> If any of these alerts are firing, they provide immediate insight into the root cause
                    </div>
                </div>

                <div class="step">
                    <h3>Step 4: Verify Synthetic Private Location Status (if applicable)</h3>
                    <div class="ui-path">Dynatrace UI → Settings → Web and mobile monitoring → Private Synthetic locations</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Synthetic Location Health Check:</strong><br>
                        1. <strong>Determine if ActiveGate is Synthetic-enabled:</strong> Check capabilities from Step 2<br>
                        2. <strong>Navigate to Private locations:</strong> Settings → Synthetic → Private locations<br>
                        3. <strong>Find associated location:</strong> Locate the private location using this ActiveGate<br>
                        4. <strong>Check location status indicator:</strong> Green/Yellow/Red status and capacity metrics<br>
                        5. <strong>Review ActiveGate nodes:</strong> Click location details to see individual ActiveGate status<br>
                        6. <strong>Analyze monitor execution:</strong> Check if Synthetic monitors are failing due to ActiveGate issues
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step4.1" onchange="updateProgress()"><label for="step4.1">Confirmed ActiveGate is Synthetic-enabled and part of a private location</label></li>
                        <li><input type="checkbox" id="step4.2" onchange="updateProgress()"><label for="step4.2">Located and accessed the associated private Synthetic location</label></li>
                        <li><input type="checkbox" id="step4.3" onchange="updateProgress()"><label for="step4.3">Reviewed location status: Green (healthy), Yellow (warning), or Red (critical)</label></li>
                        <li><input type="checkbox" id="step4.4" onchange="updateProgress()"><label for="step4.4">Examined individual ActiveGate status within the location details</label></li>
                        <li><input type="checkbox" id="step4.5" onchange="updateProgress()"><label for="step4.5">Checked capacity utilization and failover availability (>80% triggers warnings)</label></li>
                        <li><input type="checkbox" id="step4.6" onchange="updateProgress()"><label for="step4.6">Verified Synthetic monitor execution status and any failures</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>🚦 Synthetic Location Status Indicators:</strong><br>
                        • <strong>Green:</strong> All ActiveGates healthy and under capacity<br>
                        • <strong>Yellow:</strong> High load (>80% capacity) or lack of failover (only one ActiveGate)<br>
                        • <strong>Red:</strong> Capacity >90%, one or more ActiveGates offline, or all ActiveGates down<br>
                        • <strong>Impact:</strong> Red status means monitors cannot execute at all from this location
                    </div>
                </div>

                <div class="step">
                    <h3>Step 4A: ActiveGate Health Dashboard Analysis</h3>
                    <div class="ui-path">Dynatrace UI → Notebooks → [ActiveGate Health Dashboard]</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Dashboard Analysis Procedure:</strong><br>
                        1. <strong>Access ActiveGate Health Dashboard:</strong> Navigate to Notebooks section<br>
                        2. <strong>Select timeframe:</strong> Choose appropriate period for analysis (24h-7days)<br>
                        3. <strong>Review communication metrics:</strong> Focus on dropped messages and traffic patterns<br>
                        4. <strong>Analyze resource utilization:</strong> CPU, memory, extension engine performance<br>
                        5. <strong>Identify patterns:</strong> Look for correlations across different health indicators<br>
                        6. <strong>Compare baselines:</strong> Current performance vs. historical norms
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step4a.1" onchange="updateProgress()"><label for="step4a.1">Accessed ActiveGate Health Dashboard for comprehensive KPI analysis</label></li>
                        <li><input type="checkbox" id="step4a.2" onchange="updateProgress()"><label for="step4a.2">Reviewed historical trends for dropped messages and traffic patterns</label></li>
                        <li><input type="checkbox" id="step4a.3" onchange="updateProgress()"><label for="step4a.3">Analyzed extension engine performance and resource utilization over time</label></li>
                        <li><input type="checkbox" id="step4a.4" onchange="updateProgress()"><label for="step4a.4">Identified patterns or correlations across multiple ActiveGate metrics</label></li>
                        <li><input type="checkbox" id="step4a.5" onchange="updateProgress()"><label for="step4a.5">Documented baseline vs. current performance deviations</label></li>
                    </div>

                    <div class="alert alert-success">
                        <strong>📊 Dashboard Benefits:</strong><br>
                        • <strong>Historical context:</strong> See trends beyond current alerts<br>
                        • <strong>Additional KPIs:</strong> Metrics not covered by standard alerts<br>
                        • <strong>Correlation analysis:</strong> Identify relationships between different health indicators<br>
                        • <strong>Baseline comparison:</strong> Compare current state to historical performance<br>
                        • <strong>Visual insights:</strong> Quickly spot patterns that may not trigger alerts
                    </div>
                </div>

                <div class="decision-box">
                    <h4>Decision Point: What is the ActiveGate status?</h4>
                    <div class="decision-option" onclick="expandSection(2)">
                        <span>✅ <strong>Connected</strong> - But OneAgents or modules have issues</span>
                        <span>→</span>
                    </div>
                    <div class="decision-option" onclick="expandSection(3)">
                        <span>❌ <strong>Disconnected</strong> - Cannot reach Dynatrace cluster</span>
                        <span>→</span>
                    </div>
                    <div class="decision-option" onclick="expandSection(4)">
                        <span>❔ <strong>Unknown/Warning</strong> - Status unclear or has warnings</span>
                        <span>→</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 2: Connected ActiveGate Issues -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="expandSection(2)">
                <h2>Phase 2: Connected ActiveGate - OneAgent & Module Issues</h2>
                <span class="section-indicator">⏱️ 10-15 min</span>
            </div>
            <div class="section-content" id="section2">
                <div class="step">
                    <h3>Step 5: OneAgent Communication Analysis</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → OneAgent</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step5.1" onchange="updateProgress()"><label for="step5.1">Filtered OneAgents by the same network zone as problematic ActiveGate</label></li>
                        <li><input type="checkbox" id="step5.2" onchange="updateProgress()"><label for="step5.2">Identified how many OneAgents are affected (all vs. subset)</label></li>
                        <li><input type="checkbox" id="step5.3" onchange="updateProgress()"><label for="step5.3">Checked OneAgent connection status and last communication times</label></li>
                        <li><input type="checkbox" id="step5.4" onchange="updateProgress()"><label for="step5.4">Noted patterns in affected hosts (geographic, network, or host type)</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 6: Data Flow Verification</h3>
                    <div class="ui-path">Dynatrace UI → Hosts → [Select affected host]</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step6.1" onchange="updateProgress()"><label for="step6.1">Verified which ActiveGate each OneAgent is configured to use</label></li>
                        <li><input type="checkbox" id="step6.2" onchange="updateProgress()"><label for="step6.2">Checked if monitoring data is current (recent metrics and processes)</label></li>
                        <li><input type="checkbox" id="step6.3" onchange="updateProgress()"><label for="step6.3">Identified any data gaps in host timeline or metrics</label></li>
                        <li><input type="checkbox" id="step6.4" onchange="updateProgress()"><label for="step6.4">Analyzed which data types are missing (infrastructure, processes, services)</label></li>
                    </div>
                </div>

                <div class="decision-box">
                    <h4>OneAgent Communication Pattern:</h4>
                    <div class="decision-option" onclick="expandSection(6)">
                        <span>🌐 <strong>All OneAgents affected</strong> - Network/ActiveGate configuration issue</span>
                        <span>→</span>
                    </div>
                    <div class="decision-option" onclick="expandSection(7)">
                        <span>🖥️ <strong>Specific hosts affected</strong> - Host-specific network/configuration issues</span>
                        <span>→</span>
                    </div>
                    <div class="decision-option" onclick="expandSection(8)">
                        <span>🧩 <strong>Module-specific issues</strong> - Extensions, Synthetic, or specific capabilities failing</span>
                        <span>→</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 3: Disconnected ActiveGate -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(3)">
                <h2>Phase 3: Disconnected ActiveGate - Immediate Diagnostic</h2>
                <span class="section-indicator">⏱️ 15-20 min</span>
            </div>
            <div class="section-content" id="section3">
                <div class="step">
                    <h3>Step 5: Initiate ActiveGate Diagnostics Collection</h3>
                    <div class="ui-path">Dynatrace UI → ActiveGate Details → Run ActiveGate diagnostics</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Diagnostic Initiation Procedure:</strong><br>
                        1. <strong>Return to ActiveGates list</strong> and ensure the problematic ActiveGate entry is expanded<br>
                        2. <strong>Click "Run ActiveGate diagnostics"</strong> for the selected ActiveGate<br>
                        3. <strong>Wait for the diagnostic page to load:</strong> "Run Dynatrace ActiveGate diagnostics" dialog<br>
                        4. <strong>Provide issue description:</strong> Enter clear description in "Describe what isn't working" field<br>
                        5. <strong>Configure timeframe:</strong> Default 7 days, extend if issue spans longer period<br>
                        6. <strong>Select analysis mode:</strong> "Automatically analyze" (recommended) vs. "Store and download"
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step5a.1" onchange="updateProgress()"><label for="step5a.1">Clicked "Run ActiveGate diagnostics" button from expanded ActiveGate details</label></li>
                        <li><input type="checkbox" id="step5a.2" onchange="updateProgress()"><label for="step5a.2">Entered detailed problem description: "ActiveGate disconnected - cluster connectivity lost"</label></li>
                        <li><input type="checkbox" id="step5a.3" onchange="updateProgress()"><label for="step5a.3">Set appropriate collection period (7-14 days) based on issue timeline</label></li>
                        <li><input type="checkbox" id="step5a.4" onchange="updateProgress()"><label for="step5a.4">Selected "Automatically analyze" mode for immediate cloud analysis</label></li>
                        <li><input type="checkbox" id="step5a.5" onchange="updateProgress()"><label for="step5a.5">Started diagnostic collection by clicking "Start analysis" button</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>⚙️ Advanced Options Configuration:</strong><br>
                        • <strong>Time range:</strong> Extend beyond 7 days if needed (more data = longer analysis)<br>
                        • <strong>Automatically analyze:</strong> Dynatrace processes data and provides recommendations<br>
                        • <strong>Store and download:</strong> Collect data only for manual analysis or support ticket<br>
                        • <strong>Note:</strong> Automatic analysis is recommended for faster resolution
                    </div>
                </div>

                <div class="step">
                    <h3>Step 6: Monitor Diagnostic Progress</h3>
                    <div class="ui-path">Refresh ActiveGates page to check diagnostic status</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Progress Monitoring Procedure:</strong><br>
                        1. <strong>Monitor State column:</strong> Initial state will be "Collecting" in diagnostics section<br>
                        2. <strong>Refresh page manually:</strong> Status does NOT auto-refresh - use browser refresh<br>
                        3. <strong>Track progression:</strong> Collecting → Collected → Sending → Analyzing → Analyzed<br>
                        4. <strong>Wait for completion:</strong> Process typically takes 2-5 minutes depending on data volume<br>
                        5. <strong>Option to cancel:</strong> Cancel button available during collection phase if needed<br>
                        6. <strong>Final state:</strong> "Analyzed (X alerts)" where X = number of findings
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step6a.1" onchange="updateProgress()"><label for="step6a.1">Monitored diagnostic state progression from "Collecting" through completion</label></li>
                        <li><input type="checkbox" id="step6a.2" onchange="updateProgress()"><label for="step6a.2">Refreshed page periodically to check status updates (not auto-refreshing)</label></li>
                        <li><input type="checkbox" id="step6a.3" onchange="updateProgress()"><label for="step6a.3">Waited for final "Analyzed" state with alert count in parentheses</label></li>
                        <li><input type="checkbox" id="step6a.4" onchange="updateProgress()"><label for="step6a.4">Noted completion time and number of alerts/findings detected</label></li>
                    </div>

                    <div class="alert alert-danger">
                        <strong>🚨 High Priority:</strong> Disconnected ActiveGates indicate critical connectivity issues requiring immediate attention and potentially affecting multiple OneAgents. Check for dt_active_gate_dropped_messages_count alerts which may indicate the communication failure pattern.
                    </div>
                </div>

                <div class="step">
                    <h3>Step 7: Comprehensive Diagnostic Results Analysis</h3>
                    <div class="ui-path">Click on completed diagnostic entry to view detailed results</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Results Analysis Procedure:</strong><br>
                        1. <strong>Access results:</strong> Click on diagnostic entry showing "Analyzed (X alerts)" state<br>
                        2. <strong>Review summary:</strong> Read overview section for high-level understanding<br>
                        3. <strong>Examine each alert:</strong> Expand/click individual alerts for detailed descriptions<br>
                        4. <strong>Identify root causes:</strong> Look for connectivity, performance, or configuration issues<br>
                        5. <strong>Note recommendations:</strong> Dynatrace provides "Potential solution" or "Recommended action"<br>
                        6. <strong>Cross-reference symptoms:</strong> Validate findings align with observed behavior<br>
                        7. <strong>Prioritize issues:</strong> Address critical connectivity problems first
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step7a.1" onchange="updateProgress()"><label for="step7a.1">Accessed detailed diagnostic results and reviewed summary overview</label></li>
                        <li><input type="checkbox" id="step7a.2" onchange="updateProgress()"><label for="step7a.2">Examined each alert/finding for specific error descriptions</label></li>
                        <li><input type="checkbox" id="step7a.3" onchange="updateProgress()"><label for="step7a.3">Documented root cause categories: network, authentication, configuration, performance</label></li>
                        <li><input type="checkbox" id="step7a.4" onchange="updateProgress()"><label for="step7a.4">Recorded Dynatrace's recommended solutions and next steps</label></li>
                        <li><input type="checkbox" id="step7a.5" onchange="updateProgress()"><label for="step7a.5">Cross-referenced findings with symptoms observed in initial assessment</label></li>
                        <li><input type="checkbox" id="step7a.6" onchange="updateProgress()"><label for="step7a.6">Prioritized critical connectivity issues requiring immediate resolution</label></li>
                    </div>

                    <div class="alert alert-success">
                        <strong>📋 Common Diagnostic Findings:</strong><br>
                        • <strong>Connectivity:</strong> "ActiveGate cannot reach cluster endpoint on port 443"<br>
                        • <strong>Authentication:</strong> "Certificate trust issue - import cluster SSL certificate"<br>
                        • <strong>Performance:</strong> "High memory usage in ActiveGate extension module"<br>
                        • <strong>Configuration:</strong> "Clock synchronization issue - system time offset too high"<br>
                        • <strong>Network:</strong> "DNS resolution failure for cluster endpoints"
                    </div>
                </div>

                <div class="step">
                    <h3>Step 8: Optional - Download Diagnostic Archive</h3>
                    <div class="ui-path">Click Download on diagnostic results entry</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Archive Download Procedure:</strong><br>
                        1. <strong>Locate Download option:</strong> Button/link on expanded diagnostic result entry<br>
                        2. <strong>Click Download:</strong> Retrieves complete diagnostic package (ZIP file)<br>
                        3. <strong>Save securely:</strong> Store archive in secure location for escalation if needed<br>
                        4. <strong>Contents include:</strong> Logs, configuration files, network tests, resource usage data<br>
                        5. <strong>Use cases:</strong> Support tickets, L3 escalation, detailed manual analysis<br>
                        6. <strong>Verify completion:</strong> Ensure download completes successfully (large files possible)
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step8a.1" onchange="updateProgress()"><label for="step8a.1">Downloaded complete diagnostic archive (ZIP file) for detailed analysis</label></li>
                        <li><input type="checkbox" id="step8a.2" onchange="updateProgress()"><label for="step8a.2">Verified download completion and saved archive securely</label></li>
                        <li><input type="checkbox" id="step8a.3" onchange="updateProgress()"><label for="step8a.3">Documented archive location for potential escalation or support ticket</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>⚠️ Archive Management:</strong><br>
                        • <strong>Security:</strong> Archive contains sensitive configuration and log data<br>
                        • <strong>Size:</strong> Extended timeframes create large files - ensure adequate storage<br>
                        • <strong>Retention:</strong> Save before deleting diagnostic session from UI<br>
                        • <strong>Escalation:</strong> Essential for L3 support or Dynatrace engineering analysis
                    </div>
                </div>

                <div class="decision-box">
                    <h4>Based on diagnostic results, what type of issue was identified?</h4>
                    <div class="decision-option" onclick="expandSection(9)">
                        <span>🔐 <strong>Authentication/Certificate</strong> - Token expired, SSL errors, certificate issues</span>
                        <span>→</span>
                    </div>
                    <div class="decision-option" onclick="expandSection(10)">
                        <span>🌐 <strong>Network/Connectivity</strong> - DNS, firewall, proxy, timeout issues</span>
                        <span>→</span>
                    </div>
                    <div class="decision-option" onclick="expandSection(11)">
                        <span>⚙️ <strong>Configuration</strong> - Settings, network zone, parameter issues</span>
                        <span>→</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 4: Unknown/Warning Status -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(4)">
                <h2>Phase 4: Unknown/Warning Status - Pattern Analysis</h2>
                <span class="section-indicator">⏱️ 10-15 min</span>
            </div>
            <div class="section-content" id="section4">
                <div class="step">
                    <h3>Step 7: Timeline and Status Pattern Analysis</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step7.1" onchange="updateProgress()"><label for="step7.1">Examined ActiveGate status changes and current connectivity state</label></li>
                        <li><input type="checkbox" id="step7.2" onchange="updateProgress()"><label for="step7.2">Reviewed problems timeline for ActiveGate-related issues</label></li>
                        <li><input type="checkbox" id="step7.3" onchange="updateProgress()"><label for="step7.3">Checked for patterns: intermittent vs. permanent connectivity issues</label></li>
                        <li><input type="checkbox" id="step7.4" onchange="updateProgress()"><label for="step7.4">Reviewed recent deployment or environment changes that may correlate with issues</label></li>
                        <li><input type="checkbox" id="step7.5" onchange="updateProgress()"><label for="step7.5">Referenced ActiveGate Health Dashboard for communication trend analysis</label></li>
                    </div>

                    <div class="alert alert-info">
                        <strong>📊 Status Pattern Analysis:</strong><br>
                        • <strong>Current Status:</strong> Connected/Disconnected/Unknown/Warning indicators<br>
                        • <strong>Problem History:</strong> Check Problems section for ActiveGate-related incidents<br>
                        • <strong>Dashboard Trends:</strong> Use ActiveGate Health Dashboard for communication patterns<br>
                        • <strong>Alert Timeline:</strong> Review when dt_active_gate_dropped_messages_count started firing<br>
                        • <strong>Environmental Changes:</strong> Correlate issues with network, updates, or configuration changes
                    </div>
                </div>

                <div class="step">
                    <h3>Step 8: Warning Indicator Investigation</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step8.1" onchange="updateProgress()"><label for="step8.1">Identified specific warning types (update, module, performance)</label></li>
                        <li><input type="checkbox" id="step8.2" onchange="updateProgress()"><label for="step8.2">Checked auto-update status and any update failures</label></li>
                        <li><input type="checkbox" id="step8.3" onchange="updateProgress()"><label for="step8.3">Reviewed module/capability status for any failures</label></li>
                        <li><input type="checkbox" id="step8.4" onchange="updateProgress()"><label for="step8.4">Documented warning details for further investigation</label></li>
                    </div>
                </div>

                <div class="decision-box">
                    <h4>Based on your analysis, proceed to:</h4>
                    <div class="decision-option" onclick="expandSection(5)">
                        <span>🔬 <strong>Run Full Diagnostics</strong> - Need comprehensive analysis</span>
                        <span>→</span>
                    </div>
                    <div class="decision-option" onclick="expandSection(12)">
                        <span>🔄 <strong>Update/Performance Issues</strong> - Specific warning types identified</span>
                        <span>→</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 5: Comprehensive Diagnostics -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(5)">
                <h2>Phase 5: Comprehensive Diagnostic Collection & Analysis</h2>
                <span class="section-indicator">⏱️ 15-25 min</span>
            </div>
            <div class="section-content" id="section5">
                <div class="step">
                    <h3>Step 9: Advanced Diagnostic Configuration</h3>
                    <div class="ui-path">Dynatrace UI → ActiveGate Details → Run ActiveGate diagnostics</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step9.1" onchange="updateProgress()"><label for="step9.1">Selected comprehensive time range (3-7 days for pattern analysis)</label></li>
                        <li><input type="checkbox" id="step9.2" onchange="updateProgress()"><label for="step9.2">Entered detailed problem description with symptoms and timeline</label></li>
                        <li><input type="checkbox" id="step9.3" onchange="updateProgress()"><label for="step9.3">Configured for automated analysis with AI recommendations</label></li>
                        <li><input type="checkbox" id="step9.4" onchange="updateProgress()"><label for="step9.4">Started collection and monitored progress (typically 2-5 minutes)</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 10: Diagnostic Results Deep Analysis</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step10.1" onchange="updateProgress()"><label for="step10.1">Reviewed AI-generated analysis summary and recommendations</label></li>
                        <li><input type="checkbox" id="step10.2" onchange="updateProgress()"><label for="step10.2">Examined configuration snapshot for misconfigurations</label></li>
                        <li><input type="checkbox" id="step10.3" onchange="updateProgress()"><label for="step10.3">Analyzed log patterns for recurring error types</label></li>
                        <li><input type="checkbox" id="step10.4" onchange="updateProgress()"><label for="step10.4">Identified root cause category and specific failure points</label></li>
                        <li><input type="checkbox" id="step10.5" onchange="updateProgress()"><label for="step10.5">Documented findings for targeted resolution approach</label></li>
                    </div>

                    <div class="alert alert-info">
                        <strong>💡 What Comprehensive Diagnostics Include:</strong><br>
                        • Complete configuration directory snapshot<br>
                        • Log analysis with error pattern recognition<br>
                        • Network connectivity validation tests<br>
                        • Certificate and authentication status verification<br>
                        • Module performance and resource usage analysis<br>
                        • AI-powered issue classification and recommendations<br>
                        • <strong>Complement with:</strong> ActiveGate Health Dashboard for additional KPI context
                    </div>
                </div>

                <div class="section-navigation">
                    <button class="btn btn-success" onclick="expandSection(9)">🔐 Authentication Issues</button>
                    <button class="btn btn-success" onclick="expandSection(10)">🌐 Network Issues</button>
                    <button class="btn btn-success" onclick="expandSection(11)">⚙️ Configuration Issues</button>
                    <button class="btn btn-success" onclick="expandSection(12)">⚡ Performance Issues</button>
                </div>
            </div>
        </div>

        <!-- Section 6: Network Zone & Routing Issues -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(6)">
                <h2>Phase 6: Network Zone & OneAgent Routing Issues</h2>
                <span class="section-indicator">⏱️ 15-20 min</span>
            </div>
            <div class="section-content" id="section6">
                <div class="step">
                    <h3>Step 11: Network Zone Configuration Validation</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → Network zones</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step11.1" onchange="updateProgress()"><label for="step11.1">Verified the network zone exists and is properly configured</label></li>
                        <li><input type="checkbox" id="step11.2" onchange="updateProgress()"><label for="step11.2">Confirmed ActiveGate is correctly assigned to the network zone</label></li>
                        <li><input type="checkbox" id="step11.3" onchange="updateProgress()"><label for="step11.3">Checked that affected OneAgents are in the same network zone</label></li>
                        <li><input type="checkbox" id="step11.4" onchange="updateProgress()"><label for="step11.4">Reviewed fallback configuration and alternative routes</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 12: ActiveGate Configuration Management</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → Active Gates → [Click specific ActiveGate]</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step12.1" onchange="updateProgress()"><label for="step12.1">Clicked on the problematic ActiveGate name to access configuration</label></li>
                        <li><input type="checkbox" id="step12.2" onchange="updateProgress()"><label for="step12.2">Reviewed network zone assignment in ActiveGate details</label></li>
                        <li><input type="checkbox" id="step12.3" onchange="updateProgress()"><label for="step12.3">Modified network zone if misconfigured</label></li>
                        <li><input type="checkbox" id="step12.4" onchange="updateProgress()"><label for="step12.4">Checked assigned modules (Synthetic, OneAgent Routing, Extensions)</label></li>
                        <li><input type="checkbox" id="step12.5" onchange="updateProgress()"><label for="step12.5">Verified auto-update and proxy settings if applicable</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>⚠️ Network Zone Routing Priority:</strong><br>
                        • <strong>Group 1:</strong> ActiveGates from same network zone (highest priority)<br>
                        • <strong>Group 2:</strong> ActiveGates from alternative zones<br>
                        • <strong>Group 3:</strong> ActiveGates from default zone<br>
                        • <strong>Group 4:</strong> All other available ActiveGates (lowest priority)<br>
                        • <strong>Note:</strong> Network zone changes require clicking individual ActiveGates to modify
                    </div>
                </div>

                <div class="section-navigation">
                    <button class="btn btn-success" onclick="expandSection(13)">✅ Test Resolution</button>
                </div>
            </div>
        </div>

        <!-- Section 7: Host-Specific Issues -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(7)">
                <h2>Phase 7: Host-Specific OneAgent Issues</h2>
                <span class="section-indicator">⏱️ 10-15 min</span>
            </div>
            <div class="section-content" id="section7">
                <div class="step">
                    <h3>Step 13: Individual Host Analysis</h3>
                    <div class="ui-path">Dynatrace UI → Hosts → [Select specific affected host]</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step13.1" onchange="updateProgress()"><label for="step13.1">Examined host properties and OneAgent configuration</label></li>
                        <li><input type="checkbox" id="step13.2" onchange="updateProgress()"><label for="step13.2">Verified ActiveGate endpoint configuration on the host</label></li>
                        <li><input type="checkbox" id="step13.3" onchange="updateProgress()"><label for="step13.3">Checked host network zone assignment</label></li>
                        <li><input type="checkbox" id="step13.4" onchange="updateProgress()"><label for="step13.4">Reviewed recent OneAgent events and status changes</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 14: Pattern Recognition for Affected Hosts</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step14.1" onchange="updateProgress()"><label for="step14.1">Identified common characteristics among affected hosts</label></li>
                        <li><input type="checkbox" id="step14.2" onchange="updateProgress()"><label for="step14.2">Analyzed geographic or network segment distribution</label></li>
                        <li><input type="checkbox" id="step14.3" onchange="updateProgress()"><label for="step14.3">Checked for shared infrastructure dependencies</label></li>
                        <li><input type="checkbox" id="step14.4" onchange="updateProgress()"><label for="step14.4">Documented patterns for targeted resolution</label></li>
                    </div>

                    <div class="alert alert-info">
                        <strong>🔍 Common Host-Specific Issues:</strong><br>
                        • Local firewall rules blocking OneAgent communication<br>
                        • Host-specific proxy configuration problems<br>
                        • DNS resolution issues on specific hosts<br>
                        • OneAgent configuration drift or corruption<br>
                        • Resource constraints on individual hosts
                    </div>
                </div>

                <div class="section-navigation">
                    <button class="btn btn-success" onclick="expandSection(13)">✅ Test Resolution</button>
                </div>
            </div>
        </div>

        <!-- Section 8: Module-Specific Issues -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(8)">
                <h2>Phase 8: Module-Specific Issues (Extensions & Synthetic)</h2>
                <span class="section-indicator">⏱️ 15-20 min</span>
            </div>
            <div class="section-content" id="section8">
                <div class="step">
                    <h3>Step 15: Extension Module Troubleshooting</h3>
                    <div class="ui-path">Dynatrace UI → Extensions</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step15.1" onchange="updateProgress()"><label for="step15.1">Located and examined specific extension status indicators</label></li>
                        <li><input type="checkbox" id="step15.2" onchange="updateProgress()"><label for="step15.2">Clicked on status indicator dots to view execution logs</label></li>
                        <li><input type="checkbox" id="step15.3" onchange="updateProgress()"><label for="step15.3">Reviewed error messages and execution details</label></li>
                        <li><input type="checkbox" id="step15.4" onchange="updateProgress()"><label for="step15.4">Checked resource usage indicators (CPU limits)</label></li>
                        <li><input type="checkbox" id="step15.5" onchange="updateProgress()"><label for="step15.5">Verified ActiveGate group assignments for extensions</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>⚠️ Extension Resource Limits:</strong><br>
                        • Extensions have a 5% CPU usage limit per ActiveGate<br>
                        • Extensions must complete execution within 1 minute<br>
                        • HIGH_CPU status indicates limit reached<br>
                        • Extensions 2.0 framework provides better resource isolation<br>
                        • <strong>Monitor alert:</strong> dt_active_gate_extensions_engine_status_ok for engine health
                    </div>
                </div>

                <div class="step">
                    <h3>Step 16: Synthetic Monitoring Issues</h3>
                    <div class="ui-path">Settings → Web and Mobile monitoring → Private Synthetic locations</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step16.1" onchange="updateProgress()"><label for="step16.1">Checked synthetic location status and health indicators</label></li>
                        <li><input type="checkbox" id="step16.2" onchange="updateProgress()"><label for="step16.2">Reviewed monitor execution results and failure patterns</label></li>
                        <li><input type="checkbox" id="step16.3" onchange="updateProgress()"><label for="step16.3">Verified Chromium engine status and availability</label></li>
                        <li><input type="checkbox" id="step16.4" onchange="updateProgress()"><label for="step16.4">Analyzed capacity utilization and location load</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 17: Module Recovery Actions</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step17.1" onchange="updateProgress()"><label for="step17.1">Applied configuration fixes through extension settings</label></li>
                        <li><input type="checkbox" id="step17.2" onchange="updateProgress()"><label for="step17.2">Redistributed load across multiple ActiveGates if needed</label></li>
                        <li><input type="checkbox" id="step17.3" onchange="updateProgress()"><label for="step17.3">Optimized extension resource usage configurations</label></li>
                        <li><input type="checkbox" id="step17.4" onchange="updateProgress()"><label for="step17.4">Restarted affected modules via ActiveGate configuration</label></li>
                    </div>
                </div>

                <div class="section-navigation">
                    <button class="btn btn-success" onclick="expandSection(13)">✅ Test Resolution</button>
                </div>
            </div>
        </div>

        <!-- Section 9: Authentication & Certificate Issues -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(9)">
                <h2>Phase 9: Authentication & Certificate Resolution</h2>
                <span class="section-indicator">⏱️ 15-20 min</span>
            </div>
            <div class="section-content" id="section9">
                <div class="step">
                    <h3>Step 18: Comprehensive Token Status Validation</h3>
                    <div class="ui-path">Dynatrace UI → Settings → Preferences → Network security</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Enhanced Token Validation Procedure:</strong><br>
                        1. <strong>Navigate to Network security settings:</strong> Settings → Preferences → Network security<br>
                        2. <strong>Click "Check ActiveGate token statuses":</strong> This feature analyzes all ActiveGate tokens<br>
                        3. <strong>Review comprehensive status report:</strong> Displays all ActiveGates with their token states<br>
                        4. <strong>Filter by status:</strong> Use filters to show only Invalid, Absent, or Expiring tokens<br>
                        5. <strong>Note color indicators:</strong> Red (invalid/absent), yellow (expiring), green (valid)<br>
                        6. <strong>Document enforcement status:</strong> Check if token enforcement is active or pending<br>
                        7. <strong>Review grace period:</strong> Note any grace period for token migration if applicable
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step18.1" onchange="updateProgress()"><label for="step18.1">Accessed Network security settings and token status validation</label></li>
                        <li><input type="checkbox" id="step18.2" onchange="updateProgress()"><label for="step18.2">Used "Check ActiveGate token statuses" for comprehensive analysis</label></li>
                        <li><input type="checkbox" id="step18.3" onchange="updateProgress()"><label for="step18.3">Identified specific token issues: Invalid, Absent, Expiring, or Unsupported</label></li>
                        <li><input type="checkbox" id="step18.4" onchange="updateProgress()"><label for="step18.4">Noted token enforcement status and any active grace periods</label></li>
                        <li><input type="checkbox" id="step18.5" onchange="updateProgress()"><label for="step18.5">Documented specific validation errors and color indicators</label></li>
                    </div>

                    <div class="alert alert-info">
                        <strong>🔑 Enhanced Token Status Guide:</strong><br>
                        • <strong>Valid:</strong> Token working correctly - authentication successful<br>
                        • <strong>Expiring:</strong> 30 days or less remaining validity - plan renewal<br>
                        • <strong>Invalid:</strong> Token format/authentication problems - regenerate required<br>
                        • <strong>Absent:</strong> Still using deprecated tenant token - migration needed<br>
                        • <strong>Unsupported:</strong> ActiveGate version < 1.223 - update required first<br>
                        • <strong>Unknown:</strong> Status cannot be determined - investigate connectivity
                    </div>
                </div>

                <div class="step">
                    <h3>Step 19: Token Regeneration and Configuration</h3>
                    <div class="ui-path">Dynatrace UI → Access Tokens → Generate token</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Token Generation Procedure:</strong><br>
                        1. <strong>Navigate to Access Tokens:</strong> Settings → Integration → Dynatrace API → Access tokens<br>
                        2. <strong>Click "Generate new token":</strong> Start the token creation process<br>
                        3. <strong>Enter token name:</strong> Use descriptive name like "ActiveGate-[hostname]-[date]"<br>
                        4. <strong>Select required scopes:</strong> Choose activeGates.read, activeGates.write, and other needed permissions<br>
                        5. <strong>Set expiration:</strong> Configure appropriate expiration date (1-2 years recommended)<br>
                        6. <strong>Generate and copy:</strong> Click Generate and immediately copy the token value securely<br>
                        7. <strong>Configure ActiveGate:</strong> Update authorization.properties file with new token<br>
                        8. <strong>Restart ActiveGate service:</strong> Apply the token configuration<br>
                        9. <strong>Verify connectivity:</strong> Confirm ActiveGate reconnects with Valid status
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step19.1" onchange="updateProgress()"><label for="step19.1">Generated new ActiveGate token with descriptive name and appropriate scopes</label></li>
                        <li><input type="checkbox" id="step19.2" onchange="updateProgress()"><label for="step19.2">Assigned required scopes: activeGates.read, activeGates.write, and additional as needed</label></li>
                        <li><input type="checkbox" id="step19.3" onchange="updateProgress()"><label for="step19.3">Set appropriate expiration date (1-2 years) and generated token</label></li>
                        <li><input type="checkbox" id="step19.4" onchange="updateProgress()"><label for="step19.4">Securely copied new token value for configuration</label></li>
                        <li><input type="checkbox" id="step19.5" onchange="updateProgress()"><label for="step19.5">Coordinated token configuration in ActiveGate authorization.properties</label></li>
                        <li><input type="checkbox" id="step19.6" onchange="updateProgress()"><label for="step19.6">Verified ActiveGate service restart and successful reconnection</label></li>
                        <li><input type="checkbox" id="step19.7" onchange="updateProgress()"><label for="step19.7">Confirmed token status changed to "Valid" in UI validation</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>🔐 Token Security Best Practices:</strong><br>
                        • <strong>Immediate use:</strong> Configure token immediately after generation<br>
                        • <strong>Secure storage:</strong> Store token securely and delete from temporary locations<br>
                        • <strong>Limited scope:</strong> Assign only necessary permissions for ActiveGate operation<br>
                        • <strong>Rotation plan:</strong> Set calendar reminders for token renewal before expiration<br>
                        • <strong>Audit trail:</strong> Document token changes for security compliance
                    </div>
                </div>

                <div class="step">
                    <h3>Step 20: Certificate Issue Analysis</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step20.1" onchange="updateProgress()"><label for="step20.1">Reviewed diagnostic results for certificate-related errors</label></li>
                        <li><input type="checkbox" id="step20.2" onchange="updateProgress()"><label for="step20.2">Identified certificate expiration or validation issues</label></li>
                        <li><input type="checkbox" id="step20.3" onchange="updateProgress()"><label for="step20.3">Checked certificate chain completeness and trust</label></li>
                        <li><input type="checkbox" id="step20.4" onchange="updateProgress()"><label for="step20.4">Documented specific SSL/TLS handshake failures</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>🔒 Certificate Troubleshooting Note:</strong><br>
                        Certificate issues often require server-level access for resolution. Document all certificate-related findings for escalation if UI-based token resolution doesn't resolve the connectivity problem.
                    </div>
                </div>

                <div class="section-navigation">
                    <button class="btn btn-success" onclick="expandSection(13)">✅ Test Resolution</button>
                </div>
            </div>
        </div>

        <!-- Section 10: Network & Connectivity Issues -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(10)">
                <h2>Phase 10: Network & Connectivity Resolution</h2>
                <span class="section-indicator">⏱️ 15-25 min</span>
            </div>
            <div class="section-content" id="section10">
                <div class="step">
                    <h3>Step 21: Network Zone Reconfiguration</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → Network zones</div>
                    
                    <div class="alert alert-info">
                        <strong>📋 Network Zone Reconfiguration Procedure:</strong><br>
                        1. <strong>Access Network zones:</strong> Navigation menu (☰) → Deployment Status → Network zones<br>
                        2. <strong>Review existing assignments:</strong> Identify the network zone associated with your problematic ActiveGate<br>
                        3. <strong>Validate configuration:</strong> Click zone name to expand details and verify ActiveGate/OneAgent assignments<br>
                        4. <strong>Identify misconfigurations:</strong> Look for incorrect assignments, overlapping zones, or missing ActiveGates<br>
                        5. <strong>Correct assignment:</strong> Go to Deployment Status → ActiveGates, click problematic ActiveGate name<br>
                        6. <strong>Change network zone:</strong> Find "Network zone" field and select correct zone from dropdown<br>
                        7. <strong>Save changes:</strong> Click "Save changes" and confirm successful save<br>
                        8. <strong>Monitor propagation:</strong> Wait several minutes for configuration to apply<br>
                        9. <strong>Verify routing:</strong> Check ActiveGate status and "Number of connected hosts"
                    </div>
                    
                    <div class="checklist">
                        <li><input type="checkbox" id="step21.1" onchange="updateProgress()"><label for="step21.1">Accessed Network zones page and reviewed all configured zones</label></li>
                        <li><input type="checkbox" id="step21.2" onchange="updateProgress()"><label for="step21.2">Identified problematic ActiveGate's current network zone assignment</label></li>
                        <li><input type="checkbox" id="step21.3" onchange="updateProgress()"><label for="step21.3">Validated zone configuration and checked for misconfigurations or conflicts</label></li>
                        <li><input type="checkbox" id="step21.4" onchange="updateProgress()"><label for="step21.4">Corrected ActiveGate network zone assignment via ActiveGate details page</label></li>
                        <li><input type="checkbox" id="step21.5" onchange="updateProgress()"><label for="step21.5">Saved configuration changes and confirmed successful update</label></li>
                        <li><input type="checkbox" id="step21.6" onchange="updateProgress()"><label for="step21.6">Verified DNS resolution and endpoint configuration within zone settings</label></li>
                        <li><input type="checkbox" id="step21.7" onchange="updateProgress()"><label for="step21.7">Monitored configuration propagation and ActiveGate reconnection</label></li>
                        <li><input type="checkbox" id="step21.8" onchange="updateProgress()"><label for="step21.8">Confirmed OneAgent routing and traffic flow through corrected network zone</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>⚠️ Network Zone Best Practices:</strong><br>
                        • <strong>Clear definition:</strong> Define zones based on geographical or network architecture<br>
                        • <strong>Avoid overlaps:</strong> Overlapping zones complicate troubleshooting and routing logic<br>
                        • <strong>DNS consistency:</strong> Verify DNS and network configurations after changes<br>
                        • <strong>Routing validation:</strong> Ensure OneAgents connect to intended ActiveGates after changes<br>
                        • <strong>Propagation time:</strong> Allow several minutes for configuration changes to take effect
                    </div>
                </div>

                <div class="step">
                    <h3>Step 22: Connectivity Path Verification</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step22.1" onchange="updateProgress()"><label for="step22.1">Analyzed diagnostic results for network connectivity tests</label></li>
                        <li><input type="checkbox" id="step22.2" onchange="updateProgress()"><label for="step22.2">Identified specific connection failure points</label></li>
                        <li><input type="checkbox" id="step22.3" onchange="updateProgress()"><label for="step22.3">Documented firewall, proxy, or DNS resolution issues</label></li>
                        <li><input type="checkbox" id="step22.4" onchange="updateProgress()"><label for="step22.4">Verified required port accessibility (443 outbound, 9999 inbound)</label></li>
                    </div>

                    <div class="alert alert-info">
                        <strong>🌐 Required Network Connectivity:</strong><br>
                        • <strong>Outbound Port 443:</strong> ActiveGate to Dynatrace cluster communication<br>
                        • <strong>Inbound Port 9999:</strong> OneAgents to ActiveGate communication<br>
                        • <strong>DNS Resolution:</strong> Proper hostname resolution for all endpoints<br>
                        • <strong>Proxy Configuration:</strong> Correct proxy settings if applicable
                    </div>
                </div>

                <div class="section-navigation">
                    <button class="btn btn-success" onclick="expandSection(13)">✅ Test Resolution</button>
                </div>
            </div>
        </div>

        <!-- Section 11: Configuration Issues -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(11)">
                <h2>Phase 11: Configuration Issue Resolution</h2>
                <span class="section-indicator">⏱️ 10-15 min</span>
            </div>
            <div class="section-content" id="section11">
                <div class="step">
                    <h3>Step 24: Configuration Analysis and Correction</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step24.1" onchange="updateProgress()"><label for="step24.1">Reviewed diagnostic configuration snapshot for errors</label></li>
                        <li><input type="checkbox" id="step24.2" onchange="updateProgress()"><label for="step24.2">Identified misconfigured parameters or settings</label></li>
                        <li><input type="checkbox" id="step24.3" onchange="updateProgress()"><label for="step24.3">Applied configuration fixes via ActiveGate configuration interface</label></li>
                        <li><input type="checkbox" id="step24.4" onchange="updateProgress()"><label for="step24.4">Verified configuration changes propagated successfully</label></li>
                    </div>

                    <div class="alert alert-info">
                        <strong>⚙️ Common Configuration Issues:</strong><br>
                        • Incorrect server URL or cluster endpoint settings<br>
                        • Network zone assignment misconfigurations<br>
                        • Module capability conflicts or incompatibilities<br>
                        • Resource allocation or limit configuration problems
                    </div>
                </div>

                <div class="section-navigation">
                    <button class="btn btn-success" onclick="expandSection(13)">✅ Test Resolution</button>
                </div>
            </div>
        </div>

        <!-- Section 12: Performance & Update Issues -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(12)">
                <h2>Phase 12: Performance & Update Issue Resolution</h2>
                <span class="section-indicator">⏱️ 15-20 min</span>
            </div>
            <div class="section-content" id="section12">
                <div class="step">
                    <h3>Step 25: Resource Usage Analysis</h3>
                    <div class="ui-path">Dynatrace UI → Hosts</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step25.1" onchange="updateProgress()"><label for="step25.1">Reviewed resource usage indicators and performance metrics</label></li>
                        <li><input type="checkbox" id="step25.2" onchange="updateProgress()"><label for="step25.2">Identified high CPU or memory usage patterns</label></li>
                        <li><input type="checkbox" id="step25.3" onchange="updateProgress()"><label for="step25.3">Analyzed extension resource consumption patterns</label></li>
                        <li><input type="checkbox" id="step25.4" onchange="updateProgress()"><label for="step25.4">Checked for resource constraint indicators</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 26: Auto-Update Troubleshooting</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → Active Gates → [Click specific ActiveGate]</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step26.1" onchange="updateProgress()"><label for="step26.1">Checked current version number and auto-update status indicators</label></li>
                        <li><input type="checkbox" id="step26.2" onchange="updateProgress()"><label for="step26.2">Looked for "Auto-update enabled/disabled" or "Update available" notices</label></li>
                        <li><input type="checkbox" id="step26.3" onchange="updateProgress()"><label for="step26.3">Reviewed global update settings via Settings → Deployment automation (if needed)</label></li>
                        <li><input type="checkbox" id="step26.4" onchange="updateProgress()"><label for="step26.4">Documented any update-related error messages or version mismatches</label></li>
                    </div>

                    <div class="alert alert-info">
                        <strong>🔄 Auto-Update Status Indicators:</strong><br>
                        • <strong>✅ Auto-update enabled:</strong> ActiveGate will automatically update to new versions<br>
                        • <strong>⚠️ Auto-update disabled:</strong> Manual update required or blocked by policy<br>
                        • <strong>📦 Update available:</strong> New version ready for installation<br>
                        • <strong>Global settings:</strong> Check Environment Settings → Updates for organization-wide policies
                    </div>
                </div>

                <div class="step">
                    <h3>Step 27: Performance Optimization</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step27.1" onchange="updateProgress()"><label for="step27.1">Disabled unnecessary modules or capabilities</label></li>
                        <li><input type="checkbox" id="step27.2" onchange="updateProgress()"><label for="step27.2">Redistributed load across multiple ActiveGates</label></li>
                        <li><input type="checkbox" id="step27.3" onchange="updateProgress()"><label for="step27.3">Optimized extension configurations for resource efficiency</label></li>
                        <li><input type="checkbox" id="step27.4" onchange="updateProgress()"><label for="step27.4">Applied performance improvements via ActiveGate configuration</label></li>
                    </div>

                    <div class="alert alert-warning">
                        <strong>⚡ Performance Thresholds:</strong><br>
                        • CPU usage should remain below 50% for stable operation<br>
                        • Memory utilization should stay under 80% of available resources<br>
                        • Extension CPU usage is limited to 5% per ActiveGate<br>
                        • Consider load distribution when approaching limits<br>
                        • <strong>Monitor traffic alerts:</strong> dt_active_gate_incoming/outgoing_traffic_out_of_bounds for load issues<br>
                        • <strong>Reference:</strong> ActiveGate Health Dashboard for historical performance trends
                    </div>
                </div>

                <div class="section-navigation">
                    <button class="btn btn-success" onclick="expandSection(13)">✅ Test Resolution</button>
                </div>
            </div>
        </div>

        <!-- Section 13: Resolution Verification -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(13)">
                <h2>Phase 13: Resolution Verification & Documentation</h2>
                <span class="section-indicator">⏱️ 10-15 min</span>
            </div>
            <div class="section-content" id="section13">
                <div class="step">
                    <h3>Step 28: ActiveGate Status Verification</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → Active Gates → Refresh view</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step28.1" onchange="updateProgress()"><label for="step28.1">Confirmed ActiveGate shows "Connected" status</label></li>
                        <li><input type="checkbox" id="step28.2" onchange="updateProgress()"><label for="step28.2">Verified recent communication timestamp (< 5 minutes ago)</label></li>
                        <li><input type="checkbox" id="step28.3" onchange="updateProgress()"><label for="step28.3">Checked that all required modules show as "Running"</label></li>
                        <li><input type="checkbox" id="step28.4" onchange="updateProgress()"><label for="step28.4">Confirmed no error indicators or warnings are visible</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 29: OneAgent Connectivity Verification</h3>
                    <div class="ui-path">Dynatrace UI → Deployment Status → OneAgent</div>
                    <div class="checklist">
                        <li><input type="checkbox" id="step29.1" onchange="updateProgress()"><label for="step29.1">Verified OneAgents are connecting to correct ActiveGate</label></li>
                        <li><input type="checkbox" id="step29.2" onchange="updateProgress()"><label for="step29.2">Confirmed monitoring data is flowing normally</label></li>
                        <li><input type="checkbox" id="step29.3" onchange="updateProgress()"><label for="step29.3">Checked that there are no data gaps in timelines</label></li>
                        <li><input type="checkbox" id="step29.4" onchange="updateProgress()"><label for="step29.4">Validated that all affected hosts are now reporting data</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 30: Documentation and Follow-up</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step30.1" onchange="updateProgress()"><label for="step30.1">Documented the root cause identified during troubleshooting</label></li>
                        <li><input type="checkbox" id="step30.2" onchange="updateProgress()"><label for="step30.2">Recorded all resolution steps taken and configuration changes</label></li>
                        <li><input type="checkbox" id="step30.3" onchange="updateProgress()"><label for="step30.3">Updated ticket or case with complete resolution details</label></li>
                        <li><input type="checkbox" id="step30.4" onchange="updateProgress()"><label for="step30.4">Communicated resolution status to customer</label></li>
                        <li><input type="checkbox" id="step30.5" onchange="updateProgress()"><label for="step30.5">Scheduled follow-up monitoring check in 30 minutes</label></li>
                    </div>
                </div>

                <div class="decision-box">
                    <h4>Final Resolution Status:</h4>
                    <div class="decision-option" onclick="showSuccessMessage()">
                        <span>🎉 <strong>Issue Successfully Resolved</strong> - All systems operational</span>
                        <span>→</span>
                    </div>
                    <div class="decision-option" onclick="expandSection(14)">
                        <span>📞 <strong>Escalation Required</strong> - Issue persists, need L3 support</span>
                        <span>→</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 14: Escalation Process -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(14)">
                <h2>Phase 14: Escalation Preparation & Handoff</h2>
                <span class="section-indicator">📞 L3 Handoff</span>
            </div>
            <div class="section-content" id="section14">
                <div class="escalation-box">
                    <h4>🚨 Escalation Criteria Met</h4>
                    <p>When UI-based troubleshooting has been exhausted and the issue persists, proper escalation ensures efficient resolution by technical specialists.</p>
                </div>

                <div class="step">
                    <h3>Step 31: Information Package Preparation</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step31.1" onchange="updateProgress()"><label for="step31.1">ActiveGate hostname, version, and build number documented</label></li>
                        <li><input type="checkbox" id="step31.2" onchange="updateProgress()"><label for="step31.2">Complete diagnostic package collected and saved</label></li>
                        <li><input type="checkbox" id="step31.3" onchange="updateProgress()"><label for="step31.3">Exact error messages with timestamps recorded</label></li>
                        <li><input type="checkbox" id="step31.4" onchange="updateProgress()"><label for="step31.4">Network zone and configuration details documented</label></li>
                        <li><input type="checkbox" id="step31.5" onchange="updateProgress()"><label for="step31.5">Complete list of troubleshooting steps attempted</label></li>
                        <li><input type="checkbox" id="step31.6" onchange="updateProgress()"><label for="step31.6">Business impact assessment and urgency level defined</label></li>
                        <li><input type="checkbox" id="step31.7" onchange="updateProgress()"><label for="step31.7">Customer contact information and availability confirmed</label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 32: Escalation Justification</h3>
                    <div class="checklist">
                        <li><input type="checkbox" id="step32.1" onchange="updateProgress()"><label for="step32.1">UI-based troubleshooting procedures exhausted</label></li>
                        <li><input type="checkbox" id="step32.2" onchange="updateProgress()"><label for="step32.2">Server-level access required for resolution</label></li>
                        <li><input type="checkbox" id="step32.3" onchange="updateProgress()"><label for="step32.3">Advanced configuration changes beyond UI capabilities needed</label></li>
                        <li><input type="checkbox" id="step32.4" onchange="updateProgress()"><label for="step32.4">Issue duration exceeds 4 hours with no resolution</label></li>
                        <li><input type="checkbox" id="step32.5" onchange="updateProgress()"><label for="step32.5">Business-critical impact requiring immediate expert intervention</label></li>
                    </div>
                </div>

                <div class="alert alert-danger">
                    <strong>📞 Next Steps:</strong> Transfer complete documentation package to L3 support team or server administration specialists. Include all diagnostic data, attempted solutions, and detailed findings from UI investigation.
                </div>

                <div class="section-navigation">
                    <button class="btn btn-danger" onclick="showEscalationMessage()">📞 Complete Escalation Process</button>
                </div>
            </div>
        </div>

        <!-- Resources Section -->
        <div class="troubleshooting-section">
            <div class="section-header" onclick="toggleSection(15)" style="background: linear-gradient(135deg, #8e44ad, #9b59b6);">
                <h2>📚 Resources & Documentation</h2>
                <span class="section-indicator">📖 Reference</span>
            </div>
            <div class="section-content" id="section15">
                <div class="alert alert-info">
                    <strong>📋 Quick Reference:</strong> Essential links and documentation for ActiveGate troubleshooting and advanced procedures.
                </div>

                <div class="step">
                    <h3>Official Dynatrace Documentation</h3>
                    <div class="checklist">
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">ActiveGate Installation and Configuration Guide</a></label></li>
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">Network Zone Configuration Best Practices</a></label></li>
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">ActiveGate Token Management Documentation</a></label></li>
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">Trusted Root Certificates for ActiveGate</a></label></li>
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">ActiveGate Diagnostics and Troubleshooting</a></label></li>
                    </div>
                </div>

                <div class="step">
                    <h3>Advanced Configuration & Administration</h3>
                    <div class="checklist">
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">ActiveGate Custom Properties Configuration</a></label></li>
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">Proxy Configuration for ActiveGates</a></label></li>
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">SSL/TLS Certificate Management</a></label></li>
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">ActiveGate Performance Tuning Guide</a></label></li>
                        <li><input type="checkbox" disabled><label>🔗 <a href="#" target="_blank">Command Line Tools (agctl) Reference</a></label></li>
                    </div>
                </div>

                <div class="alert alert-success">
                    <strong>💡 Usage Note:</strong> These resources provide additional context and advanced procedures beyond the scope of this UI-based troubleshooting guide. Use them for deeper understanding, configuration planning, and escalation scenarios requiring server-level access.
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Navigation Panel -->
    <div class="quick-nav">
        <h4>Quick Navigation</h4>
        <div class="nav-item" onclick="toggleSection(1)">1. Initial Assessment</div>
        <div class="nav-item" onclick="toggleSection(2)">2. Connected Issues</div>
        <div class="nav-item" onclick="toggleSection(3)">3. Disconnected</div>
        <div class="nav-item" onclick="toggleSection(4)">4. Unknown Status</div>
        <div class="nav-item" onclick="toggleSection(5)">5. Full Diagnostics</div>
        <div class="nav-item" onclick="toggleSection(9)">9. Authentication</div>
        <div class="nav-item" onclick="toggleSection(10)">10. Network</div>
        <div class="nav-item" onclick="toggleSection(13)">13. Verification</div>
        <div class="nav-item" onclick="toggleSection(14)">14. Escalation</div>
        <div class="nav-item" onclick="toggleSection(15)" style="border-top: 1px solid #ecf0f1; margin-top: 8px; padding-top: 8px;">📚 Resources</div>
    </div>

    <script>
        let completedSteps = 0;
        const totalSteps = 65;
        let currentSection = 0;

        function expandSection(sectionNum) {
            // Close all sections and open the target one (for navigation)
            document.querySelectorAll('.section-content').forEach(sc => {
                sc.classList.remove('active');
            });
            
            document.getElementById(`section${sectionNum}`).classList.add('active');
            currentSection = sectionNum;
            document.getElementById('currentSection').textContent = sectionNum;
            
            // Scroll to the section
            document.getElementById(`section${sectionNum}`).scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }

        function toggleSection(sectionNum) {
            // Toggle behavior for section headers
            const targetSection = document.getElementById(`section${sectionNum}`);
            
            if (!targetSection) {
                console.error(`Section ${sectionNum} not found`);
                return;
            }
            
            const isCurrentlyActive = targetSection.classList.contains('active');
            
            // Close all sections first
            document.querySelectorAll('.section-content').forEach(sc => {
                sc.classList.remove('active');
            });
            
            // If the clicked section was not active, open it
            if (!isCurrentlyActive) {
                targetSection.classList.add('active');
                currentSection = sectionNum;
                document.getElementById('currentSection').textContent = sectionNum;
                
                // Scroll to the section
                targetSection.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            } else {
                // If we're closing the current section, reset to a neutral state
                currentSection = 0;
                document.getElementById('currentSection').textContent = '—';
            }
        }

        function updateProgress() {
            // Count checked checkboxes
            const checkedBoxes = document.querySelectorAll('input[type="checkbox"]:checked').length;
            completedSteps = checkedBoxes;
            
            // Update progress bar
            const progressPercentage = (completedSteps / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progressPercentage + '%';
            
            // Update stats
            document.getElementById('completedSteps').textContent = completedSteps;
            
            // Update progress text
            if (completedSteps === 0) {
                document.getElementById('progressText').textContent = 'Begin your investigation by starting with Initial Assessment';
            } else if (completedSteps < totalSteps) {
                document.getElementById('progressText').textContent = `Investigation Progress: ${completedSteps}/${totalSteps} checkpoints completed (${Math.round(progressPercentage)}%)`;
            } else {
                document.getElementById('progressText').textContent = '🎉 Complete investigation finished! Review verification or escalate if needed.';
            }
        }

        function showSuccessMessage() {
            alert(`🎉 SUCCESS! 

ActiveGate troubleshooting completed successfully!

✅ ActiveGate is now Connected and operational
✅ OneAgents are communicating properly  
✅ Monitoring data is flowing normally
✅ All issues have been resolved

Don't forget to:
• Document the resolution steps taken
• Schedule a follow-up check in 30 minutes
• Update your ticket with resolution details
• Communicate success to the customer`);
        }

        function showEscalationMessage() {
            alert(`📞 ESCALATION INITIATED

Handing off to L3 Support with complete documentation package:

📋 Information Package Prepared:
• ActiveGate details and diagnostic data
• Complete error logs and timestamps  
• All troubleshooting steps attempted
• Configuration details and findings
• Business impact assessment

🎯 Escalation Justification:
• UI-based troubleshooting exhausted
• Server-level access required
• Issue duration exceeds resolution timeframe

Next: Transfer to L3 support team with complete handoff package.`);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            
            // Ensure all sections are closed first
            document.querySelectorAll('.section-content').forEach(sc => {
                sc.classList.remove('active');
            });
            
            // Auto-expand first section
            const section1 = document.getElementById('section1');
            if (section1) {
                section1.classList.add('active');
                currentSection = 1;
                document.getElementById('currentSection').textContent = '1';
            }
        });
    </script>
</body>
</html>